<!DOCTYPE html>
<html>
<head>
    <title>Latin Quiz</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function disableSubmit() {
            const submitBtn = document.getElementById("submit-btn");
            if (submitBtn) {
                submitBtn.disabled = true;
            }
            const nextBtn = document.getElementById("next-btn");
            if (nextBtn) {
                nextBtn.style.display = "inline-block";
            }
        }
    </script>
</head>
<body>
    <h1>Latin Quiz</h1>

    {% if quote %}
        <h2>{{ quote }}</h2>
    {% else %}
        <h2>Error: No quote loaded</h2>
    {% endif %}

    <form method="POST" onsubmit="disableSubmit()">
        <label for="case">Case:</label>
        <select name="case" id="case" required>
            <option value="">--Choose Case--</option>
            <option value="nominative">Nominative</option>
            <option value="genitive">Genitive</option>
            <option value="dative">Dative</option>
            <option value="accusative">Accusative</option>
            <option value="ablative">Ablative</option>
            <option value="vocative">Vocative</option>
        </select>

        <label for="use">Use:</label>
        <select name="use" id="use" required>
            <option value="">--Choose Use--</option>
            <option value="subject">Subject</option>
            <option value="possession">Possession</option>
            <option value="indirect object">Indirect Object</option>
            <option value="direct object">Direct Object</option>
            <option value="means">Means</option>
            <option value="address">Address</option>
        </select>

        <button type="submit" id="submit-btn">Submit</button>
    </form>

    {% if submitted %}
        <p><strong>{{ result }}</strong></p>
        <a href="{{ url_for('next_quote') }}">
            <button id="next-btn">Next Quote</button>
        </a>
    {% else %}
        <button id="next-btn" style="display:none;">Next Quote</button>
    {% endif %}

    <p>Score: {{ score }}</p>
</body>
</html>